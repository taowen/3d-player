---
alwaysApply: true
---

# 3D Player - MKV Stream Reader

## æ–‡ä»¶ç»“æ„
```
src/
â”œâ”€â”€ mkv_stream_reader.h       # å¤´æ–‡ä»¶
â””â”€â”€ mkv_stream_reader.cpp     # å®ç°æ–‡ä»¶
tests/
â””â”€â”€ test_mkv_stream_reader.cpp # å•å…ƒæµ‹è¯•
test_data/
â””â”€â”€ sample_hw.mkv             # æµ‹è¯•æ–‡ä»¶
```

## æ ¸å¿ƒAPI
```cpp
class MKVStreamReader {
public:
    bool open(const std::string& filepath);
    StreamInfo getStreamInfo() const;
    bool readNextPacket(AVPacket* packet);
    bool isVideoPacket(const AVPacket* packet) const;
    bool isAudioPacket(const AVPacket* packet) const;
    bool isOpen() const;
    bool isEOF() const;
    AVCodecParameters* getVideoCodecParameters() const;
    AVCodecParameters* getAudioCodecParameters() const;
    void close();
};
```

## æ„å»ºæµ‹è¯•
```bash
build.bat                    # æ„å»ºé¡¹ç›®
build\Debug\integration-test.exe  # è¿è¡Œæµ‹è¯•
```

## ä½¿ç”¨ç¤ºä¾‹
```cpp
MKVStreamReader reader;
if (reader.open("video.mkv")) {
    AVPacket* packet = av_packet_alloc();
    while (reader.readNextPacket(packet)) {
        if (reader.isVideoPacket(packet)) {
            // å¤„ç†è§†é¢‘åŒ…
        } else if (reader.isAudioPacket(packet)) {
            // å¤„ç†éŸ³é¢‘åŒ…
        }
        av_packet_unref(packet);
    }
    av_packet_free(&packet);
    reader.close();
}
```

---

## ğŸ”§ ç»´æŠ¤æŒ‡å—

**âš ï¸ é‡è¦ï¼šæ¯æ¬¡ä¿®æ”¹ä»£ç åéƒ½è¦æ›´æ–° README.md**

### éœ€è¦æ›´æ–°çš„å†…å®¹ï¼š
1. **æ–‡ä»¶ç»“æ„** - æ·»åŠ /åˆ é™¤æ–‡ä»¶æ—¶æ›´æ–°
2. **æ ¸å¿ƒAPI** - ä¿®æ”¹å…¬å…±æ¥å£æ—¶æ›´æ–°
3. **æ„å»ºæµ‹è¯•** - æ”¹å˜æ„å»ºæ–¹å¼æ—¶æ›´æ–°
4. **ä½¿ç”¨ç¤ºä¾‹** - APIå˜åŒ–æ—¶æ›´æ–°ç¤ºä¾‹ä»£ç 

### æ›´æ–°åŸåˆ™ï¼š
- ä¿æŒç®€æ´ï¼Œåªè®°å½•æ ¸å¿ƒä¿¡æ¯
- åŠæ—¶æ›´æ–°ï¼Œé¿å…æ–‡æ¡£è¿‡æ—¶
- é‡è¦å˜æ›´å¿…é¡»è®°å½•åœ¨"æœ€è¿‘æ›´æ”¹"ä¸­
- è¿è¡Œæµ‹è¯•åæ›´æ–°æµ‹è¯•çŠ¶æ€
